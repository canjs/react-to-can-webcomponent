(function(e,n){"undefined"==typeof process&&(e.process={argv:[],cwd:function(){return""},browser:!0,env:{NODE_ENV:n||"development"},version:"",platform:e.navigator&&e.navigator.userAgent&&/Windows/.test(e.navigator.userAgent)?"win":""})})("object"==typeof self&&self.Object==Object?self:"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)?global:window,"development");var CanSymbol,canNamespace_1_0_0_canNamespace={},supportsNativeSymbols=function(){var e="undefined"!=typeof Symbol&&"function"==typeof Symbol.for;if(!e)return!1;var n=Symbol("a symbol for testing symbols");return"symbol"==typeof n}();if(supportsNativeSymbols)CanSymbol=Symbol;else{var symbolNum=0;CanSymbol=function(e){var n="@@symbol"+symbolNum++ +e,t={};return Object.defineProperties(t,{toString:{value:function(){return n}}}),t};var descriptionToSymbol={},symbolToDescription={};CanSymbol.for=function(e){var n=descriptionToSymbol[e];return n||(n=descriptionToSymbol[e]=CanSymbol(e),symbolToDescription[n]=e),n},CanSymbol.keyFor=function(e){return symbolToDescription[e]},["hasInstance","isConcatSpreadable","iterator","match","prototype","replace","search","species","split","toPrimitive","toStringTag","unscopables"].forEach(function(e){CanSymbol[e]=CanSymbol("Symbol."+e)})}["isMapLike","isListLike","isValueLike","isFunctionLike","getOwnKeys","getOwnKeyDescriptor","proto","getOwnEnumerableKeys","hasOwnKey","hasKey","size","getName","getIdentity","assignDeep","updateDeep","getValue","setValue","getKeyValue","setKeyValue","updateValues","addValue","removeValues","apply","new","onValue","offValue","onKeyValue","offKeyValue","getKeyDependencies","getValueDependencies","keyHasDependencies","valueHasDependencies","onKeys","onKeysAdded","onKeysRemoved","onPatches"].forEach(function(e){CanSymbol.for("can."+e)});var canSymbol_1_6_5_canSymbol=canNamespace_1_0_0_canNamespace.Symbol=CanSymbol,helpers={makeGetFirstSymbolValue:function(e){var n=e.map(function(e){return canSymbol_1_6_5_canSymbol.for(e)}),t=n.length;return function(e){for(var a=-1;++a<t;)if(e[n[a]]!==void 0)return e[n[a]]}},hasLength:function(e){var n=typeof e;if("string"==n||Array.isArray(e))return!0;var t=e&&"boolean"!==n&&"number"!==n&&"length"in e&&e.length;return"function"!=typeof e&&(0===t||"number"==typeof t&&0<t&&t-1 in e)}},plainFunctionPrototypePropertyNames=Object.getOwnPropertyNames(function(){}.prototype),plainFunctionPrototypeProto=Object.getPrototypeOf(function(){}.prototype);function isConstructorLike(e){var n=e[canSymbol_1_6_5_canSymbol.for("can.new")];if(n!==void 0)return n;if("function"!=typeof e)return!1;var t=e.prototype;if(!t)return!1;if(plainFunctionPrototypeProto!==Object.getPrototypeOf(t))return!0;var a=Object.getOwnPropertyNames(t);if(a.length===plainFunctionPrototypePropertyNames.length){for(var o=0,s=a.length;o<s;o++)if(a[o]!==plainFunctionPrototypePropertyNames[o])return!0;return!1}return!0}var getNewOrApply=helpers.makeGetFirstSymbolValue(["can.new","can.apply"]);function isFunctionLike(e){var n,t=!!e&&e[canSymbol_1_6_5_canSymbol.for("can.isFunctionLike")];return void 0===t?(n=getNewOrApply(e),void 0===n?"function"==typeof e:!!n):t}function isPrimitive(e){var n=typeof e;return!(null!=e&&("function"===n||"object"===n))}var coreHasOwn=Object.prototype.hasOwnProperty,funcToString=Function.prototype.toString,objectCtorString=funcToString.call(Object);function isPlainObject(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(n===Object.prototype||null===n)return!0;var t=coreHasOwn.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&funcToString.call(t)===objectCtorString}function isBuiltIn(e){return!!(isPrimitive(e)||Array.isArray(e)||isPlainObject(e)||"[object Object]"!==Object.prototype.toString.call(e)&&-1!==Object.prototype.toString.call(e).indexOf("[object "))}function isValueLike(e){var n;if(isPrimitive(e))return!0;if(n=e[canSymbol_1_6_5_canSymbol.for("can.isValueLike")],"undefined"!=typeof n)return n;var t=e[canSymbol_1_6_5_canSymbol.for("can.getValue")];if(void 0!==t)return!!t}function isMapLike(e){if(isPrimitive(e))return!1;var n=e[canSymbol_1_6_5_canSymbol.for("can.isMapLike")];if("undefined"!=typeof n)return!!n;var t=e[canSymbol_1_6_5_canSymbol.for("can.getKeyValue")];return!(void 0!==t)||!!t}var onValueSymbol=canSymbol_1_6_5_canSymbol.for("can.onValue"),onKeyValueSymbol=canSymbol_1_6_5_canSymbol.for("can.onKeyValue"),onPatchesSymbol=canSymbol_1_6_5_canSymbol.for("can.onPatches");function isObservableLike(e){return!isPrimitive(e)&&!!(e[onValueSymbol]||e[onKeyValueSymbol]||e[onPatchesSymbol])}function isListLike(e){var n;if("string"==typeof e)return!0;if(isPrimitive(e))return!1;if(n=e[canSymbol_1_6_5_canSymbol.for("can.isListLike")],"undefined"!=typeof n)return n;var t=e[canSymbol_1_6_5_canSymbol.iterator];return void 0===t?!!Array.isArray(e)||helpers.hasLength(e):!!t}var isSymbolLike,supportsNativeSymbols$1=function(){var e="undefined"!=typeof Symbol&&"function"==typeof Symbol.for;if(!e)return!1;var n=Symbol("a symbol for testing symbols");return"symbol"==typeof n}();if(supportsNativeSymbols$1)isSymbolLike=function(e){return"symbol"==typeof e};else{var symbolStart="@@symbol";isSymbolLike=function(e){return!("object"!=typeof e||Array.isArray(e))&&e.toString().substr(0,symbolStart.length)===symbolStart}}var type={isConstructorLike:isConstructorLike,isFunctionLike:isFunctionLike,isListLike:isListLike,isMapLike:isMapLike,isObservableLike:isObservableLike,isPrimitive:isPrimitive,isBuiltIn:isBuiltIn,isValueLike:isValueLike,isSymbolLike:isSymbolLike,isMoreListLikeThanMapLike:function(e){if(Array.isArray(e))return!0;if(e instanceof Array)return!0;if(null==e)return!1;var n=e[canSymbol_1_6_5_canSymbol.for("can.isMoreListLikeThanMapLike")];if(n!==void 0)return n;var t=this.isListLike(e),a=this.isMapLike(e);if(t&&!a)return!0;return(t||!a)&&void 0},isIteratorLike:function(e){return e&&"object"==typeof e&&"function"==typeof e.next&&0===e.next.length},isPromise:function(e){return e instanceof Promise||"[object Promise]"===Object.prototype.toString.call(e)},isPlainObject:isPlainObject},call={call:function(e,n){var t=[].slice.call(arguments,2),a=e[canSymbol_1_6_5_canSymbol.for("can.apply")];return a?a.call(e,n,t):e.apply(n,t)},apply:function(e,n,t){var a=e[canSymbol_1_6_5_canSymbol.for("can.apply")];return a?a.call(e,n,t):e.apply(n,t)},new:function(e){var n=[].slice.call(arguments,1),t=e[canSymbol_1_6_5_canSymbol.for("can.new")];if(t)return t.apply(e,n);var a=Object.create(e.prototype),o=e.apply(a,n);return type.isPrimitive(o)?a:o}},setKeyValueSymbol=canSymbol_1_6_5_canSymbol.for("can.setKeyValue"),getKeyValueSymbol=canSymbol_1_6_5_canSymbol.for("can.getKeyValue"),getValueSymbol=canSymbol_1_6_5_canSymbol.for("can.getValue"),setValueSymbol=canSymbol_1_6_5_canSymbol.for("can.setValue"),reflections={setKeyValue:function(e,n,t){if(type.isSymbolLike(n))return void("symbol"==typeof n?e[n]=t:Object.defineProperty(e,n,{enumerable:!1,configurable:!0,value:t,writable:!0}));var a=e[setKeyValueSymbol];return void 0===a?void(e[n]=t):a.call(e,n,t)},getKeyValue:function(e,n){var t=e[getKeyValueSymbol];return t?t.call(e,n):e[n]},deleteKeyValue:function(e,n){var t=e[canSymbol_1_6_5_canSymbol.for("can.deleteKeyValue")];return t?t.call(e,n):void delete e[n]},getValue:function(e){if(type.isPrimitive(e))return e;var n=e[getValueSymbol];return n?n.call(e):e},setValue:function(e,n){var t=e&&e[setValueSymbol];if(t)return t.call(e,n);throw new Error("can-reflect.setValue - Can not set value.")},splice:function(e,n,t,a){var o;if("number"!=typeof t){var s=e[canSymbol_1_6_5_canSymbol.for("can.updateValues")];if(s)return s.call(e,n,t,a);o=t.length}else o=t;3>=arguments.length&&(a=[]);var r=e[canSymbol_1_6_5_canSymbol.for("can.splice")];return r?r.call(e,n,o,a):[].splice.apply(e,[n,o].concat(a))},addValues:function(e,n,t){var a=e[canSymbol_1_6_5_canSymbol.for("can.addValues")];return a?a.call(e,n,t):Array.isArray(e)&&void 0===t?e.push.apply(e,n):reflections.splice(e,t,[],n)},removeValues:function(e,n,t){var a=e[canSymbol_1_6_5_canSymbol.for("can.removeValues")];return a?a.call(e,n,t):Array.isArray(e)&&void 0===t?void n.forEach(function(n){var t=e.indexOf(n);0<=t&&e.splice(t,1)}):reflections.splice(e,t,n,[])}};reflections.get=reflections.getKeyValue,reflections.set=reflections.setKeyValue,reflections["delete"]=reflections.deleteKeyValue;var getSet=reflections,slice=[].slice;function makeFallback(e,n){return function(t,a,o,s){var r=t[canSymbol_1_6_5_canSymbol.for(e)];return void 0===r?this[n].apply(this,arguments):r.call(t,a,o,s)}}function makeErrorIfMissing(e,n){return function(t){var a=t[canSymbol_1_6_5_canSymbol.for(e)];if(a!==void 0){var o=slice.call(arguments,1);return a.apply(t,o)}throw new Error(n)}}var observe={onKeyValue:makeFallback("can.onKeyValue","onEvent"),offKeyValue:makeFallback("can.offKeyValue","offEvent"),onKeys:makeErrorIfMissing("can.onKeys","can-reflect: can not observe an onKeys event"),onKeysAdded:makeErrorIfMissing("can.onKeysAdded","can-reflect: can not observe an onKeysAdded event"),onKeysRemoved:makeErrorIfMissing("can.onKeysRemoved","can-reflect: can not unobserve an onKeysRemoved event"),getKeyDependencies:makeErrorIfMissing("can.getKeyDependencies","can-reflect: can not determine dependencies"),getWhatIChange:makeErrorIfMissing("can.getWhatIChange","can-reflect: can not determine dependencies"),getChangesDependencyRecord:function(e){var n=e[canSymbol_1_6_5_canSymbol.for("can.getChangesDependencyRecord")];if("function"==typeof n)return n()},keyHasDependencies:makeErrorIfMissing("can.keyHasDependencies","can-reflect: can not determine if this has key dependencies"),onValue:makeErrorIfMissing("can.onValue","can-reflect: can not observe value change"),offValue:makeErrorIfMissing("can.offValue","can-reflect: can not unobserve value change"),getValueDependencies:makeErrorIfMissing("can.getValueDependencies","can-reflect: can not determine dependencies"),valueHasDependencies:makeErrorIfMissing("can.valueHasDependencies","can-reflect: can not determine if value has dependencies"),onPatches:makeErrorIfMissing("can.onPatches","can-reflect: can not observe patches on object"),offPatches:makeErrorIfMissing("can.offPatches","can-reflect: can not unobserve patches on object"),onInstancePatches:makeErrorIfMissing("can.onInstancePatches","can-reflect: can not observe onInstancePatches on Type"),offInstancePatches:makeErrorIfMissing("can.offInstancePatches","can-reflect: can not unobserve onInstancePatches on Type"),onInstanceBoundChange:makeErrorIfMissing("can.onInstanceBoundChange","can-reflect: can not observe bound state change in instances."),offInstanceBoundChange:makeErrorIfMissing("can.offInstanceBoundChange","can-reflect: can not unobserve bound state change"),isBound:makeErrorIfMissing("can.isBound","can-reflect: cannot determine if object is bound"),onEvent:function(e,n,t,a){if(e){var o=e[canSymbol_1_6_5_canSymbol.for("can.onEvent")];if(o!==void 0)return o.call(e,n,t,a);e.addEventListener&&e.addEventListener(n,t,a)}},offEvent:function(e,n,t,a){if(e){var o=e[canSymbol_1_6_5_canSymbol.for("can.offEvent")];if(o!==void 0)return o.call(e,n,t,a);e.removeEventListener&&e.removeEventListener(n,t,a)}},setPriority:function(e,n){if(e){var t=e[canSymbol_1_6_5_canSymbol.for("can.setPriority")];if(void 0!==t)return t.call(e,n),!0}return!1},getPriority:function(e){if(e){var n=e[canSymbol_1_6_5_canSymbol.for("can.getPriority")];if(n!==void 0)return n.call(e)}}},getPrototypeOfWorksWithPrimitives=!0;try{}catch(n){getPrototypeOfWorksWithPrimitives=!1}var ArrayMap;if("function"==typeof Map)ArrayMap=Map;else{var isEven=function(e){return 0==e%2};ArrayMap=function(){this.contents=[]},ArrayMap.prototype={_getIndex:function(e){var n;do n=this.contents.indexOf(e,n);while(-1!==n&&!isEven(n));return n},has:function(e){return-1!==this._getIndex(e)},get:function(e){var n=this._getIndex(e);if(-1!==n)return this.contents[n+1]},set:function(e,n){var t=this._getIndex(e);-1===t?(this.contents.push(e),this.contents.push(n)):this.contents[t+1]=n},delete:function(e){var n=this._getIndex(e);-1!==n&&this.contents.splice(n,2)}}}var shapeReflections,hasOwnProperty=Object.prototype.hasOwnProperty,shiftFirstArgumentToThis=function(e){return function(){var n=[this];return n.push.apply(n,arguments),e.apply(null,n)}},getKeyValueSymbol$1=canSymbol_1_6_5_canSymbol.for("can.getKeyValue"),shiftedGetKeyValue=shiftFirstArgumentToThis(getSet.getKeyValue),setKeyValueSymbol$1=canSymbol_1_6_5_canSymbol.for("can.setKeyValue"),shiftedSetKeyValue=shiftFirstArgumentToThis(getSet.setKeyValue),sizeSymbol=canSymbol_1_6_5_canSymbol.for("can.size"),hasUpdateSymbol=helpers.makeGetFirstSymbolValue(["can.updateDeep","can.assignDeep","can.setKeyValue"]),shouldUpdateOrAssign=function(e){return type.isPlainObject(e)||Array.isArray(e)||!!hasUpdateSymbol(e)};function isSerializedHelper(e){return!!type.isPrimitive(e)||!hasUpdateSymbol(e)&&type.isBuiltIn(e)&&!type.isPlainObject(e)&&!Array.isArray(e)&&!type.isObservableLike(e)}var Object_Keys;try{Object_Keys=Object.keys}catch(n){Object_Keys=function(e){return type.isPrimitive(e)?[]:Object.keys(e)}}function createSerializeMap(e){var n=e||ArrayMap;return{unwrap:new n,serialize:new n,isSerializing:{unwrap:new n,serialize:new n},circularReferenceIsSerializing:{unwrap:new n,serialize:new n}}}function makeSerializer(e,n){function t(e){this.first=!a,this.first&&(a=createSerializeMap(e)),this.map=a,this.result=null}var a=null;return t.prototype.end=function(){return this.first&&(a=null),this.result},function a(o,s){if(isSerializedHelper(o))return o;var r=new t(s);if(type.isValueLike(o))r.result=this[e](getSet.getValue(o));else{var l=type.isIteratorLike(o)||type.isMoreListLikeThanMapLike(o);if(r.result=l?[]:{},r.map[e].has(o))return r.map.isSerializing[e].has(o)&&r.map.circularReferenceIsSerializing[e].set(o,!0),r.map[e].get(o);r.map[e].set(o,r.result);for(var a,c=0,p=n.length;c<p;c++)if(a=o[n[c]],a){r.map.isSerializing[e].set(o,!0);var u=r.result;if(r.result=a.call(o,u),r.map.isSerializing[e].delete(o),r.result!==u){if(r.map.circularReferenceIsSerializing[e].has(o))throw r.end(),new Error("Cannot serialize cirular reference!");r.map[e].set(o,r.result)}return r.end()}"function"==typeof obj?(r.map[e].set(o,o),r.result=o):l?this.eachIndex(o,function(n,t){r.result[t]=this[e](n)},this):this.eachKey(o,function(n,t){r.result[t]=this[e](n)},this)}return r.end()}}var makeMap="undefined"==typeof Map?function(e){var n={};return e.forEach(function(e){n[e]=!0}),{get:function(e){return n[e]},set:function(e,t){n[e]=t},keys:function(){return e}}}:function(e){var n=new Map;return shapeReflections.eachIndex(e,function(e){n.set(e,!0)}),n};var fastHasOwnKey=function(e){var n=e[canSymbol_1_6_5_canSymbol.for("can.hasOwnKey")];if(n)return n.bind(e);var t=makeMap(shapeReflections.getOwnEnumerableKeys(e));return function(e){return t.get(e)}};function addPatch(e,n){var t=e[e.length-1];return t&&t.deleteCount===t.insert.length&&n.index-t.index===t.deleteCount?(t.insert.push.apply(t.insert,n.insert),void(t.deleteCount+=n.deleteCount)):void e.push(n)}function updateDeepList(e,n,t){var a=this.toArray(n),o=[],s=-1;this.eachIndex(e,function(n,r){if(s=r,r>=a.length)return t||addPatch(o,{index:r,deleteCount:e.length-r+1,insert:[]}),!1;var i=a[r];type.isPrimitive(n)||type.isPrimitive(i)||!1===shouldUpdateOrAssign(n)?addPatch(o,{index:r,deleteCount:1,insert:[i]}):!0===t?this.assignDeep(n,i):this.updateDeep(n,i)},this),a.length>s&&addPatch(o,{index:s+1,deleteCount:0,insert:a.slice(s+1)});for(var r,l=0,c=o.length;l<c;l++)r=o[l],getSet.splice(e,r.index,r.deleteCount,r.insert);return e}shapeReflections={each:function(e,n,t){return type.isIteratorLike(e)||type.isMoreListLikeThanMapLike(e)?shapeReflections.eachIndex(e,n,t):shapeReflections.eachKey(e,n,t)},eachIndex:function(e,n,t){if(Array.isArray(e))return shapeReflections.eachListLike(e,n,t);var a,o=e[canSymbol_1_6_5_canSymbol.iterator];if(type.isIteratorLike(e)?a=e:o&&(a=o.call(e)),a)for(var s,r=0;!(s=a.next()).done&&!1!==n.call(t||e,s.value,r++,e););else shapeReflections.eachListLike(e,n,t);return e},eachListLike:function(e,n,t){var a=-1,o=e.length;if(o===void 0){var s=e[sizeSymbol];if(s)o=s.call(e);else throw new Error("can-reflect: unable to iterate.")}for(;++a<o;){var r=e[a];if(!1===n.call(t||r,r,a,e))break}return e},toArray:function(e){var n=[];return shapeReflections.each(e,function(e){n.push(e)}),n},eachKey:function(e,n,t){if(e){var a=shapeReflections.getOwnEnumerableKeys(e),o=e[getKeyValueSymbol$1]||shiftedGetKeyValue;return shapeReflections.eachIndex(a,function(a){var s=o.call(e,a);return n.call(t||e,s,a,e)})}return e},hasOwnKey:function(e,n){var t=e[canSymbol_1_6_5_canSymbol.for("can.hasOwnKey")];if(t)return t.call(e,n);var a=e[canSymbol_1_6_5_canSymbol.for("can.getOwnKeys")];if(a){var o=!1;return shapeReflections.eachIndex(a.call(e),function(e){if(e===n)return o=!0,!1}),o}return hasOwnProperty.call(e,n)},getOwnEnumerableKeys:function(e){var n=e[canSymbol_1_6_5_canSymbol.for("can.getOwnEnumerableKeys")];if(n)return n.call(e);if(e[canSymbol_1_6_5_canSymbol.for("can.getOwnKeys")]&&e[canSymbol_1_6_5_canSymbol.for("can.getOwnKeyDescriptor")]){var t=[];return shapeReflections.eachIndex(shapeReflections.getOwnKeys(e),function(n){var a=shapeReflections.getOwnKeyDescriptor(e,n);a.enumerable&&t.push(n)},this),t}return Object_Keys(e)},getOwnKeys:function(e){var n=e[canSymbol_1_6_5_canSymbol.for("can.getOwnKeys")];return n?n.call(e):Object.getOwnPropertyNames(e)},getOwnKeyDescriptor:function(e,n){var t=e[canSymbol_1_6_5_canSymbol.for("can.getOwnKeyDescriptor")];return t?t.call(e,n):Object.getOwnPropertyDescriptor(e,n)},unwrap:makeSerializer("unwrap",[canSymbol_1_6_5_canSymbol.for("can.unwrap")]),serialize:makeSerializer("serialize",[canSymbol_1_6_5_canSymbol.for("can.serialize"),canSymbol_1_6_5_canSymbol.for("can.unwrap")]),assignMap:function(e,n){var t=fastHasOwnKey(e),a=e[getKeyValueSymbol$1]||shiftedGetKeyValue,o=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(n,function(n,s){t(s)&&a.call(e,s)===n||o.call(e,s,n)}),e},assignList:function(e,n){var t=shapeReflections.toArray(n);return getSet.splice(e,0,t,t),e},assign:function(e,n){return type.isIteratorLike(n)||type.isMoreListLikeThanMapLike(n)?shapeReflections.assignList(e,n):shapeReflections.assignMap(e,n),e},assignDeepMap:function(e,n){var t=fastHasOwnKey(e),a=e[getKeyValueSymbol$1]||shiftedGetKeyValue,o=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(n,function(n,s){if(!t(s))getSet.setKeyValue(e,s,n);else{var r=a.call(e,s);n===r||(type.isPrimitive(r)||type.isPrimitive(n)||!1===shouldUpdateOrAssign(r)?o.call(e,s,n):shapeReflections.assignDeep(r,n))}},this),e},assignDeepList:function(e,n){return updateDeepList.call(this,e,n,!0)},assignDeep:function(e,n){var t=e[canSymbol_1_6_5_canSymbol.for("can.assignDeep")];return t?t.call(e,n):type.isMoreListLikeThanMapLike(n)?shapeReflections.assignDeepList(e,n):shapeReflections.assignDeepMap(e,n),e},updateMap:function(e,n){var t=makeMap(shapeReflections.getOwnEnumerableKeys(n)),a=n[getKeyValueSymbol$1]||shiftedGetKeyValue,o=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(e,function(s,r){if(!t.get(r))return void getSet.deleteKeyValue(e,r);t.set(r,!1);var i=a.call(n,r);i!==s&&o.call(e,r,i)},this),shapeReflections.eachIndex(t.keys(),function(s){t.get(s)&&o.call(e,s,a.call(n,s))}),e},updateList:function(e,n){var t=shapeReflections.toArray(n);return getSet.splice(e,0,e,t),e},update:function(e,n){return type.isIteratorLike(n)||type.isMoreListLikeThanMapLike(n)?shapeReflections.updateList(e,n):shapeReflections.updateMap(e,n),e},updateDeepMap:function(e,n){var t=makeMap(shapeReflections.getOwnEnumerableKeys(n)),a=n[getKeyValueSymbol$1]||shiftedGetKeyValue,o=e[setKeyValueSymbol$1]||shiftedSetKeyValue;return shapeReflections.eachKey(e,function(s,r){if(!t.get(r))return void getSet.deleteKeyValue(e,r);t.set(r,!1);var i=a.call(n,r);type.isPrimitive(s)||type.isPrimitive(i)||!1===shouldUpdateOrAssign(s)?o.call(e,r,i):shapeReflections.updateDeep(s,i)},this),shapeReflections.eachIndex(t.keys(),function(s){t.get(s)&&o.call(e,s,a.call(n,s))}),e},updateDeepList:function(e,n){return updateDeepList.call(this,e,n)},updateDeep:function(e,n){var t=e[canSymbol_1_6_5_canSymbol.for("can.updateDeep")];return t?t.call(e,n):type.isMoreListLikeThanMapLike(n)?shapeReflections.updateDeepList(e,n):shapeReflections.updateDeepMap(e,n),e},hasKey:function(e,n){if(null==e)return!1;if(type.isPrimitive(e)){if(hasOwnProperty.call(e,n))return!0;var t;return t=getPrototypeOfWorksWithPrimitives?Object.getPrototypeOf(e):e.__proto__,void 0===t?void 0!==e[n]:n in t}var a=e[canSymbol_1_6_5_canSymbol.for("can.hasKey")];if(a)return a.call(e,n);var o=shapeReflections.hasOwnKey(e,n);return o||n in e},getAllEnumerableKeys:function(){},getAllKeys:function(){},assignSymbols:function(e,n){return shapeReflections.eachKey(n,function(n,t){var a=type.isSymbolLike(canSymbol_1_6_5_canSymbol[t])?canSymbol_1_6_5_canSymbol[t]:canSymbol_1_6_5_canSymbol.for(t);getSet.setKeyValue(e,a,n)}),e},isSerialized:isSerializedHelper,size:function(e){if(null==e)return 0;var n=e[sizeSymbol],t=0;return n?n.call(e):helpers.hasLength(e)?e.length:type.isListLike(e)?(shapeReflections.eachIndex(e,function(){t++}),t):e?shapeReflections.getOwnEnumerableKeys(e).length:void 0},defineInstanceKey:function(e,n,t){var a=e[canSymbol_1_6_5_canSymbol.for("can.defineInstanceKey")];if(a)return a.call(e,n,t);var o=e.prototype;a=o[canSymbol_1_6_5_canSymbol.for("can.defineInstanceKey")],a?a.call(o,n,t):Object.defineProperty(o,n,shapeReflections.assign({configurable:!0,enumerable:!type.isSymbolLike(n),writable:!0},t))}},shapeReflections.isSerializable=shapeReflections.isSerialized,shapeReflections.keys=shapeReflections.getOwnEnumerableKeys;var shape=shapeReflections,getSchemaSymbol=canSymbol_1_6_5_canSymbol.for("can.getSchema"),isMemberSymbol=canSymbol_1_6_5_canSymbol.for("can.isMember"),newSymbol=canSymbol_1_6_5_canSymbol.for("can.new");function comparator(e,n){return e.localeCompare(n)}function sort(e){if(type.isPrimitive(e)||e instanceof Date)return e;var n;return type.isListLike(e)?(n=[],shape.eachKey(e,function(e){n.push(sort(e))}),n):type.isMapLike(e)?(n={},shape.getOwnKeys(e).sort(comparator).forEach(function(t){n[t]=sort(getSet.getKeyValue(e,t))}),n):e}function isPrimitiveConverter(e){return e===Number||e===String||e===Boolean}var schemaReflections={getSchema:function(e){if(void 0!==e){var n=e[getSchemaSymbol];return void 0===n&&(e=e.constructor,n=e&&e[getSchemaSymbol]),void 0===n?void 0:n.call(e)}},getIdentity:function(e,n){if(n=n||schemaReflections.getSchema(e),void 0===n)throw new Error("can-reflect.getIdentity - Unable to find a schema for the given value.");var t=n.identity;if(!t||0===t.length)throw new Error("can-reflect.getIdentity - Provided schema lacks an identity property.");else{if(1===t.length)return getSet.getKeyValue(e,t[0]);var a={};return t.forEach(function(n){a[n]=getSet.getKeyValue(e,n)}),JSON.stringify(schemaReflections.cloneKeySort(a))}},cloneKeySort:function(e){return sort(e)},convert:function(e,n){if(isPrimitiveConverter(n))return n(e);var t=n[isMemberSymbol],a=!1,o=typeof n,s=n[newSymbol];if(void 0===t?"function"===o&&type.isConstructorLike(n)&&(a=e instanceof n):a=t.call(n,e),a)return e;if(void 0!==s)return s.call(n,e);if("function"===o)return type.isConstructorLike(n)?new n(e):n(e);throw new Error("can-reflect: Can not convert values into type. Type must provide `can.new` symbol.")}},schema=schemaReflections,getNameSymbol=canSymbol_1_6_5_canSymbol.for("can.getName");function setName(e,n){if("function"!=typeof n){var t=n;n=function(){return t}}Object.defineProperty(e,getNameSymbol,{value:n})}var anonymousID=0;function getName(e){var n=typeof e;if(null===e||"object"!==n&&"function"!==n)return""+e;var t=e[getNameSymbol];if(t)return t.call(e);if("function"==n)return"name"in e||(e.name="functionIE"+anonymousID++),e.name;if(e.constructor&&e!==e.constructor){var a=getName(e.constructor);if(a){if(type.isValueLike(e))return a+"<>";if(type.isMoreListLikeThanMapLike(e))return a+"[]";if(type.isMapLike(e))return a+"{}"}}}var getName_1={setName:setName,getName:getName};function keysPolyfill(){var e=[],n=0;return this.forEach(function(n,t){e.push(t)}),{next:function(){return{value:e[n],done:n++===e.length}}}}"undefined"!=typeof Map&&(shape.assignSymbols(Map.prototype,{"can.getOwnEnumerableKeys":Map.prototype.keys,"can.setKeyValue":Map.prototype.set,"can.getKeyValue":Map.prototype.get,"can.deleteKeyValue":Map.prototype["delete"],"can.hasOwnKey":Map.prototype.has}),"function"!=typeof Map.prototype.keys&&(Map.prototype.keys=Map.prototype[canSymbol_1_6_5_canSymbol.for("can.getOwnEnumerableKeys")]=keysPolyfill)),"undefined"!=typeof WeakMap&&shape.assignSymbols(WeakMap.prototype,{"can.getOwnEnumerableKeys":function(){throw new Error("can-reflect: WeakMaps do not have enumerable keys.")},"can.setKeyValue":WeakMap.prototype.set,"can.getKeyValue":WeakMap.prototype.get,"can.deleteKeyValue":WeakMap.prototype["delete"],"can.hasOwnKey":WeakMap.prototype.has}),"undefined"!=typeof Set&&(shape.assignSymbols(Set.prototype,{"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,n,t){n!==t&&shape.each(n,function(e){this.delete(e)},this),shape.each(t,function(e){this.add(e)},this)},"can.size":function(){return this.size}}),"function"!=typeof Set.prototype[canSymbol_1_6_5_canSymbol.iterator]&&(Set.prototype[canSymbol_1_6_5_canSymbol.iterator]=function(){var e=[],n=0;return this.forEach(function(n){e.push(n)}),{next:function(){return{value:e[n],done:n++===e.length}}}})),"undefined"!=typeof WeakSet&&shape.assignSymbols(WeakSet.prototype,{"can.isListLike":!0,"can.isMoreListLikeThanMapLike":!0,"can.updateValues":function(e,n,t){n!==t&&shape.each(n,function(e){this.delete(e)},this),shape.each(t,function(e){this.add(e)},this)},"can.size":function(){throw new Error("can-reflect: WeakSets do not have enumerable keys.")}});var reflect={};[call,getSet,observe,shape,type,getName_1,schema].forEach(function(e){for(var n in e)reflect[n]=e[n]});var canReflect_1_18_0_canReflect=canNamespace_1_0_0_canNamespace.Reflect=reflect;function createCommonjsModule(e,n){return n={exports:{}},e(n,n.exports),n.exports}var canObservationRecorder_1_3_1_canObservationRecorder=createCommonjsModule(function(e){var n=[],t=canSymbol_1_6_5_canSymbol.for("can.addParent"),a=canSymbol_1_6_5_canSymbol.for("can.getValue"),o={stack:n,start:function(e){var t={keyDependencies:new Map,valueDependencies:new Set,childDependencies:new Set,traps:null,ignore:0,name:e};return n.push(t),t},stop:function(){return n.pop()},add:function(e,t){var a=n[n.length-1];if(a&&0===a.ignore)if(a.traps)a.traps.push([e,t]);else if(void 0===t)a.valueDependencies.add(e);else{var o=a.keyDependencies.get(e);o||(o=new Set,a.keyDependencies.set(e,o)),o.add(t)}},addMany:function(e){var t=n[n.length-1];if(t)if(t.traps)t.traps.push.apply(t.traps,e);else for(var a=0,o=e.length;a<o;a++)this.add(e[a][0],e[a][1])},created:function(e){var a=n[n.length-1];a&&(a.childDependencies.add(e),e[t]&&e[t](a))},ignore:function(e){return function(){if(n.length){var t=n[n.length-1];t.ignore++;var a=e.apply(this,arguments);return t.ignore--,a}return e.apply(this,arguments)}},peekValue:function(e){if(!e||!e[a])return e;if(n.length){var t=n[n.length-1];t.ignore++;var o=e[a]();return t.ignore--,o}return e[a]()},isRecording:function(){var e=n.length,t=e&&n[e-1];return t&&0===t.ignore&&t},makeDependenciesRecord:function(e){return{traps:null,keyDependencies:new Map,valueDependencies:new Set,ignore:0,name:e}},makeDependenciesRecorder:function(){return o.makeDependenciesRecord()},trap:function(){if(n.length){var e=n[n.length-1],t=e.traps,a=e.traps=[];return function(){return e.traps=t,a}}return function(){return[]}},trapsCount:function(){if(n.length){var e=n[n.length-1];return e.traps.length}return 0}};if(canNamespace_1_0_0_canNamespace.ObservationRecorder)throw new Error("You can't have two versions of can-observation-recorder, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.ObservationRecorder=o});function addNewKeyDependenciesIfNotInOld(e){(this.oldEventSet===void 0||!1===this.oldEventSet["delete"](e))&&canReflect_1_18_0_canReflect.onKeyValue(this.observable,e,this.onDependencyChange,"notify")}function addObservablesNewKeyDependenciesIfNotInOld(e,n){e.forEach(addNewKeyDependenciesIfNotInOld,{onDependencyChange:this.onDependencyChange,observable:n,oldEventSet:this.oldDependencies.keyDependencies.get(n)})}function removeKeyDependencies(e){canReflect_1_18_0_canReflect.offKeyValue(this.observable,e,this.onDependencyChange,"notify")}function removeObservablesKeyDependencies(e,n){e.forEach(removeKeyDependencies,{onDependencyChange:this.onDependencyChange,observable:n})}function addValueDependencies(e){!1===this.oldDependencies.valueDependencies.delete(e)&&canReflect_1_18_0_canReflect.onValue(e,this.onDependencyChange,"notify")}function removeValueDependencies(e){canReflect_1_18_0_canReflect.offValue(e,this.onDependencyChange,"notify")}var canObservation_4_2_0_recorderDependencyHelpers={updateObservations:function(e){e.newDependencies.keyDependencies.forEach(addObservablesNewKeyDependenciesIfNotInOld,e),e.oldDependencies.keyDependencies.forEach(removeObservablesKeyDependencies,e),e.newDependencies.valueDependencies.forEach(addValueDependencies,e),e.oldDependencies.valueDependencies.forEach(removeValueDependencies,e)},stopObserving:function(e,n){e.keyDependencies.forEach(removeObservablesKeyDependencies,{onDependencyChange:n}),e.valueDependencies.forEach(removeValueDependencies,{onDependencyChange:n})}},warnTimeout=5e3,logLevel=0,warn=function(){var e=this.logLevel;2>e&&("undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments)))},log=function(){var e=this.logLevel;1>e&&"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments))},error=function(){var e=this.logLevel;1>e&&"undefined"!=typeof console&&console.error&&this._logger("error",Array.prototype.slice.call(arguments))},_logger=function(n,t){try{console[n].apply(console,t)}catch(a){console[n](t)}},canLog_1_0_2_canLog={warnTimeout:warnTimeout,logLevel:logLevel,warn:warn,log:log,error:error,_logger:_logger},dev={warnTimeout:5e3,logLevel:0,stringify:function(e){return JSON.stringify(e,function(e,n){return n===void 0?"/* void(undefined) */":n},"  ").replace(/"\/\* void\(undefined\) \*\/"/g,"undefined")},warn:function(){},log:function(){},error:function(){},_logger:canLog_1_0_2_canLog._logger},canQueues_1_3_1_queueState={lastTask:null},canAssign_1_3_3_canAssign=canNamespace_1_0_0_canNamespace.assign=function(e,n){for(var t in n){var a=Object.getOwnPropertyDescriptor(e,t);a&&!1===a.writable||(e[t]=n[t])}return e};function noOperation(){}var Queue=function(e,n){this.callbacks=canAssign_1_3_3_canAssign({onFirstTask:noOperation,onComplete:function(){canQueues_1_3_1_queueState.lastTask=null}},n||{}),this.name=e,this.index=0,this.tasks=[],this._log=!1};Queue.prototype.constructor=Queue,Queue.noop=noOperation,Queue.prototype.enqueue=function(e,n,t,a){var o=this.tasks.push({fn:e,context:n,args:t,meta:a||{}});1===o&&this.callbacks.onFirstTask(this)},Queue.prototype.flush=function(){for(;this.index<this.tasks.length;){var e=this.tasks[this.index++];e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.callbacks.onComplete(this)},Queue.prototype.log=function(){this._log=!arguments.length||arguments[0]};var canQueues_1_3_1_queue=Queue,PriorityQueue=function(){canQueues_1_3_1_queue.apply(this,arguments),this.taskMap=new Map,this.taskContainersByPriority=[],this.curPriorityIndex=1/0,this.curPriorityMax=0,this.isFlushing=!1,this.tasksRemaining=0};PriorityQueue.prototype=Object.create(canQueues_1_3_1_queue.prototype),PriorityQueue.prototype.constructor=PriorityQueue,PriorityQueue.prototype.enqueue=function(e,n,t,a){if(!this.taskMap.has(e)){this.tasksRemaining++;var o=0===this.taskContainersByPriority.length,s={fn:e,context:n,args:t,meta:a||{}},r=this.getTaskContainerAndUpdateRange(s);r.tasks.push(s),this.taskMap.set(e,s),o&&this.callbacks.onFirstTask(this)}},PriorityQueue.prototype.getTaskContainerAndUpdateRange=function(e){var n=e.meta.priority||0;n<this.curPriorityIndex&&(this.curPriorityIndex=n),n>this.curPriorityMax&&(this.curPriorityMax=n);var t=this.taskContainersByPriority,a=t[n];return a||(a=t[n]={tasks:[],index:0}),a},PriorityQueue.prototype.flush=function(){if(!this.isFlushing)for(this.isFlushing=!0;;)if(this.curPriorityIndex<=this.curPriorityMax){var e=this.taskContainersByPriority[this.curPriorityIndex];if(e&&e.tasks.length>e.index){var n=e.tasks[e.index++];this.tasksRemaining--,this.taskMap["delete"](n.fn),n.fn.apply(n.context,n.args)}else this.curPriorityIndex++}else return this.taskMap=new Map,this.curPriorityIndex=1/0,this.curPriorityMax=0,this.taskContainersByPriority=[],this.isFlushing=!1,void this.callbacks.onComplete(this)},PriorityQueue.prototype.isEnqueued=function(e){return this.taskMap.has(e)},PriorityQueue.prototype.flushQueuedTask=function(e){var n=this.dequeue(e);n&&n.fn.apply(n.context,n.args)},PriorityQueue.prototype.dequeue=function(e){var n=this.taskMap.get(e);if(n){var t=n.meta.priority||0,a=this.taskContainersByPriority[t],o=a.tasks.indexOf(n,a.index);if(0<=o)return a.tasks.splice(o,1),this.tasksRemaining--,this.taskMap["delete"](n.fn),n;console.warn("Task",e,"has already run")}},PriorityQueue.prototype.tasksRemainingCount=function(){return this.tasksRemaining};var canQueues_1_3_1_priorityQueue=PriorityQueue,CompletionQueue=function(){canQueues_1_3_1_queue.apply(this,arguments),this.flushCount=0};CompletionQueue.prototype=Object.create(canQueues_1_3_1_queue.prototype),CompletionQueue.prototype.constructor=CompletionQueue,CompletionQueue.prototype.flush=function(){if(0===this.flushCount){for(this.flushCount++;this.index<this.tasks.length;){var e=this.tasks[this.index++];e.fn.apply(e.context,e.args)}this.index=0,this.tasks=[],this.flushCount--,this.callbacks.onComplete(this)}};var hasDuplicate,sortInput,canQueues_1_3_1_completionQueue=CompletionQueue,canQueues_1_3_1_sortedIndexBy=function(e,n,t){if(n&&n.length){if(-1===e(t,n[0]))return 0;if(1===e(t,n[n.length-1]))return n.length;for(var a=0,o=n.length;a<o;){var s=a+o>>>1,r=n[s],i=e(t,r);-1===i?o=s:a=s+1}return o}},sortStable=!0,indexOf=Array.prototype.indexOf;function sortOrder(e,n){if(e===n)return hasDuplicate=!0,0;var t=!e.compareDocumentPosition-!n.compareDocumentPosition;return t?t:(t=(e.ownerDocument||e)===(n.ownerDocument||n)?e.compareDocumentPosition(n):1,1&t?e===document||e.ownerDocument===document&&document.documentElement.contains(e)?-1:n===document||n.ownerDocument===document&&document.documentElement.contains(n)?1:sortInput?indexOf.call(sortInput,e)-indexOf.call(sortInput,n):0:4&t?-1:1)}function uniqueSort(e){var n,t=[],a=0,o=0;if(hasDuplicate=!1,sortInput=!sortStable&&e.slice(0),e.sort(sortOrder),hasDuplicate){for(;n=e[o++];)n===e[o]&&(a=t.push(o));for(;a--;)e.splice(t[a],1)}return sortInput=null,e}var canQueues_1_3_1_elementSort={uniqueSort:uniqueSort,sortOrder:sortOrder},canElementSymbol=canSymbol_1_6_5_canSymbol.for("can.element");function sortTasks(e,n){return canQueues_1_3_1_elementSort.sortOrder(e.meta.element,n.meta.element)}var DomOrderQueue=function(){canQueues_1_3_1_queue.apply(this,arguments),this.taskMap=new Map,this.unsortable=[],this.isFlushing=!1};DomOrderQueue.prototype=Object.create(canQueues_1_3_1_queue.prototype),DomOrderQueue.prototype.constructor=DomOrderQueue,DomOrderQueue.prototype.enqueue=function(e,n,t,a){var o;if(!this.taskMap.has(e)){a||(a={}),a.element||(a.element=e[canElementSymbol]),o={fn:e,context:n,args:t,meta:a},this.taskMap.set(e,o);var s=canQueues_1_3_1_sortedIndexBy(sortTasks,this.tasks,o);this.tasks.splice(s,0,o),1===this.tasks.length&&this.callbacks.onFirstTask(this)}else o=this.taskMap.get(e),o.context=n,o.args=t,a||(a={}),a.element||(a.element=e[canElementSymbol]),o.meta=a},DomOrderQueue.prototype.flush=function(){if(!this.isFlushing){for(this.isFlushing=!0;this.tasks.length;){var e=this.tasks.shift();this.taskMap["delete"](e.fn),e.fn.apply(e.context,e.args)}this.isFlushing=!1,this.callbacks.onComplete(this)}},DomOrderQueue.prototype.isEnqueued=function(e){return this.taskMap.has(e)},DomOrderQueue.prototype.flushQueuedTask=function(e){var n=this.dequeue(e);n&&n.fn.apply(n.context,n.args)},DomOrderQueue.prototype.dequeue=function(e){var n=this.taskMap.get(e);if(n){var t=this.tasks.indexOf(n);if(0<=t)return this.tasks.splice(t,1),this.taskMap["delete"](n.fn),n;console.warn("Task",e,"has already run")}},DomOrderQueue.prototype.tasksRemainingCount=function(){return this.tasks.length};var canQueues_1_3_1_domOrderQueue=DomOrderQueue,canQueues_1_3_1_canQueues=createCommonjsModule(function(e){var n,t,a,o,s,r,i=0,l=!1,c=0,p=["notify","derive","domUI","dom","mutate"];t=new canQueues_1_3_1_queue("NOTIFY",{onComplete:function(){a.flush()},onFirstTask:function(){i?l=!0:t.flush()}}),a=new canQueues_1_3_1_priorityQueue("DERIVE",{onComplete:function(){s.flush()},onFirstTask:function(){l=!0}}),s=new canQueues_1_3_1_domOrderQueue("DOM   ",{onComplete:function(){o.flush()},onFirstTask:function(){l=!0}}),o=new canQueues_1_3_1_completionQueue("DOM_UI",{onComplete:function(){r.flush()},onFirstTask:function(){l=!0}}),r=new canQueues_1_3_1_queue("MUTATE",{onComplete:function(){canQueues_1_3_1_queueState.lastTask=null},onFirstTask:function(){l=!0}});var u={Queue:canQueues_1_3_1_queue,PriorityQueue:canQueues_1_3_1_priorityQueue,CompletionQueue:canQueues_1_3_1_completionQueue,DomOrderQueue:canQueues_1_3_1_domOrderQueue,notifyQueue:t,deriveQueue:a,domQueue:s,domUIQueue:o,mutateQueue:r,batch:{start:function(){i++,1===i&&(c++,n={number:c})},stop:function(){i--,0===i&&l&&(l=!1,t.flush())},isCollecting:function(){return 0<i},number:function(){return c},data:function(){return n}},runAsTask:function(e){return e},enqueueByQueue:function(e,n,t,a,o){e&&(u.batch.start(),p.forEach(function(s){var r=u[s+"Queue"],i=e[s];i!==void 0&&i.forEach(function(e){var s=null==a?{}:a(e,n,t);s.reasonLog=o,r.enqueue(e,n,t,s)})}),u.batch.stop())},lastTask:function(){return canQueues_1_3_1_queueState.lastTask},stack:function(e){for(var n=e||canQueues_1_3_1_queueState.lastTask,t=[];n;)t.unshift(n),n=n.meta.parentTask;return t},logStack:function(e){var n=this.stack(e);n.forEach(function(e,n){var t=e.meta;0===n&&t&&t.reasonLog&&dev.log.apply(dev,t.reasonLog);var a=t&&t.log?t.log:[e.fn.name,e];dev.log.apply(dev,[e.meta.stack.name+" ran task:"].concat(a))})},taskCount:function(){return t.tasks.length+a.tasks.length+o.tasks.length+r.tasks.length},flush:function(){t.flush()},log:function(){t.log.apply(t,arguments),a.log.apply(a,arguments),o.log.apply(o,arguments),s.log.apply(s,arguments),r.log.apply(r,arguments)}};if(canNamespace_1_0_0_canNamespace.queues)throw new Error("You can't have two versions of can-queues, check your dependencies");else e.exports=canNamespace_1_0_0_canNamespace.queues=u});canObservationRecorder_1_3_1_canObservationRecorder.resume=function(e){canObservationRecorder_1_3_1_canObservationRecorder.stack.push(e)};let ORDER,weLeftSomethingOnTheStack=!1;class Observer{constructor(e){this.newDependencies=canObservationRecorder_1_3_1_canObservationRecorder.makeDependenciesRecorder(),this.oldDependencies=null,this.onUpdate=e,this.onDependencyChange=(e,n)=>{this.dependencyChange(e,n)}}startRecording(){if(weLeftSomethingOnTheStack){const e=canObservationRecorder_1_3_1_canObservationRecorder.stop();if(weLeftSomethingOnTheStack=!1,!e.ylem)throw new Error("If you see this error with another error, clearing that should solve this. If you see this error alone, please open an issue at https://github.com/canjs/react-to-can-webcomponent/issues")}this.oldDependencies=this.newDependencies,this.nextDependencies=canObservationRecorder_1_3_1_canObservationRecorder.start(),this.nextDependencies.ylem=!0,weLeftSomethingOnTheStack=!0,this.order===void 0?ORDER===void 0?(ORDER=0,this.order=ORDER):(this.order=ORDER,ORDER+=1):ORDER=this.order}stopRecording(){if(weLeftSomethingOnTheStack){const e=canObservationRecorder_1_3_1_canObservationRecorder.stop();if(weLeftSomethingOnTheStack=!1,!e.ylem)throw new Error("If you see this error with another error, clearing that should solve this. If you see this error alone, please open an issue at https://github.com/canjs/react-to-can-webcomponent/issues")}this.newDependencies=this.nextDependencies,canObservation_4_2_0_recorderDependencyHelpers.updateObservations(this)}dependencyChange(){canQueues_1_3_1_canQueues.deriveQueue.enqueue(this.onUpdate,this,[],{priority:this.order})}teardown(){canObservation_4_2_0_recorderDependencyHelpers.stopObserving(this.newDependencies,this.onDependencyChange),canQueues_1_3_1_canQueues.deriveQueue.dequeue(this.onUpdate)}ignore(e){return canObservationRecorder_1_3_1_canObservationRecorder.ignore(e)()}}"production"!==process.env.NODE_ENV&&canReflect_1_18_0_canReflect.assignSymbols(Observer.prototype,{"can.getName":function(){return`${canReflect_1_18_0_canReflect.getName(this.constructor)}<${canReflect_1_18_0_canReflect.getName(this.onUpdate)}>`}});function useObserver(e){const{useEffect:n,useLayoutEffect:t,useState:a,useRef:o}=e,[,s]=a(),r=o(new Observer(()=>s({})));r.current.startRecording(),t(()=>{r.current.stopRecording()}),n(()=>()=>{r.current.teardown(),r.current=null},[])}var reactComponentSymbol=Symbol.for("r2wc.reactComponent"),renderSymbol=Symbol.for("r2wc.reactRender"),shouldRenderSymbol=Symbol.for("r2wc.shouldRender"),rootSymbol=Symbol.for("r2wc.root"),define={expando:function(e,n,t){Object.defineProperty(e,n,{enumerable:!0,get:function(){return t},set:function(e){return t=e,this[renderSymbol](),!0}}),e[renderSymbol]()}};function reactToCanWebcomponent_1_0_2_reactToCanWebcomponent(e,n,t){var a={isConnected:"isConnected"in HTMLElement.prototype},o=!1,s=function(){var e=Reflect.construct(HTMLElement,arguments,this.constructor);return e},r=Object.create(HTMLElement.prototype);r.constructor=s;var i=function(t){return useObserver(n),n.createElement(e,t)},l=new Proxy(r,{has:function(n,t){return t in e.propTypes||t in r},set:function(e,n,t,s){return(o&&(a[n]=!0),"symbol"==typeof n||a[n]||n in e)?Reflect.set(e,n,t,s):(define.expando(s,n,t),!0)},getOwnPropertyDescriptor:function(n,t){var a=Reflect.getOwnPropertyDescriptor(n,t);return a?a:t in e.propTypes?{configurable:!0,enumerable:!0,writable:!0,value:void 0}:void 0}});return s.prototype=l,r.connectedCallback=function(){this[shouldRenderSymbol]=!0,this[renderSymbol]()},r.disconnectedCallback=function(){this[shouldRenderSymbol]=!1},r[renderSymbol]=function(){if(!0===this[shouldRenderSymbol]){var e={};Object.keys(this).forEach(function(n){!1!==a[n]&&(e[n]=this[n])},this),o=!0;var s=n.createElement(i,e);"createRoot"in t?this[reactComponentSymbol]=(this[rootSymbol]||(this[rootSymbol]=t.createRoot(this))).render(s):"render"in t&&(this[reactComponentSymbol]=t.render(s,this)),o=!1}},e.propTypes&&(s.observedAttributes=Object.keys(e.propTypes),r.attributeChangedCallback=function(e,n,t){this[e]=t}),s}export default reactToCanWebcomponent_1_0_2_reactToCanWebcomponent;